00422670: PUSH EBP
00422671: PUSH EDI
00422672: PUSH ESI
00422673: PUSH EBX
00422674: SUB ESP,0x1c
00422677: MOV EAX,dword ptr [ESP + 0x30]
0042267b: MOV EDI,dword ptr [ESP + 0x34]
0042267f: TEST EAX,EAX
00422681: JZ 0x00422730
00422687: MOV dword ptr [ESP + 0x4],0x457af4
0042268f: MOV dword ptr [ESP],EAX
00422692: CALL 0x00449160
00422697: TEST EAX,EAX
00422699: MOV EBX,EAX
0042269b: JZ 0x00422705
0042269d: MOV dword ptr [ESP + 0x8],0x2
004226a5: MOV dword ptr [ESP + 0x4],0x0
004226ad: MOV dword ptr [ESP],EAX
004226b0: CALL 0x00449138
004226b5: MOV dword ptr [ESP],EBX
004226b8: CALL 0x00449128
004226bd: MOV dword ptr [ESP],EBX
004226c0: MOV ESI,EAX
004226c2: CALL 0x004490a8
004226c7: MOV dword ptr [ESP],ESI
004226ca: CALL 0x00449108
004226cf: TEST EAX,EAX
004226d1: MOV EBP,EAX
004226d3: JZ 0x00422710
004226d5: MOV dword ptr [ESP + 0xc],EBX
004226d9: MOV dword ptr [ESP + 0x8],0x1
004226e1: MOV dword ptr [ESP + 0x4],ESI
004226e5: MOV dword ptr [ESP],EAX
004226e8: CALL 0x00449148
004226ed: MOV dword ptr [ESP],EBX
004226f0: CALL 0x00449190
004226f5: TEST EDI,EDI
004226f7: JZ 0x004226fb
004226f9: MOV dword ptr [EDI],ESI
004226fb: ADD ESP,0x1c
004226fe: MOV EAX,EBP
00422700: POP EBX
00422701: POP ESI
00422702: POP EDI
00422703: POP EBP
00422704: RET
00422705: XOR ESI,ESI
00422707: XOR EBP,EBP
00422709: JMP 0x004226f5
00422710: MOV dword ptr [ESP + 0x8],ESI
00422714: MOV dword ptr [ESP + 0x4],0x457af8
0042271c: XOR ESI,ESI
0042271e: MOV dword ptr [ESP],0x1
00422725: CALL 0x00433690
0042272a: JMP 0x004226ed
00422730: XOR EBP,EBP
00422732: JMP 0x004226fb