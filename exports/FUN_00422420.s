00422420: PUSH ESI
00422421: PUSH EBX
00422422: XOR ESI,ESI
00422424: SUB ESP,0x14
00422427: MOV EBX,dword ptr [ESP + 0x20]
0042242b: TEST EBX,EBX
0042242d: JZ 0x00422459
0042242f: MOV dword ptr [ESP + 0x8],0x2
00422437: MOV dword ptr [ESP + 0x4],0x0
0042243f: MOV dword ptr [ESP],EBX
00422442: CALL 0x00449138
00422447: MOV dword ptr [ESP],EBX
0042244a: CALL 0x00449128
0042244f: MOV dword ptr [ESP],EBX
00422452: MOV ESI,EAX
00422454: CALL 0x004490a8
00422459: ADD ESP,0x14
0042245c: MOV EAX,ESI
0042245e: POP EBX
0042245f: POP ESI
00422460: RET