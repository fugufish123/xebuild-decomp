00411680: PUSH EDI
00411681: PUSH ESI
00411682: SUB ESP,0x14
00411685: MOV EDI,dword ptr [0x00479ef0]
0041168b: TEST EDI,EDI
0041168d: JZ 0x00411780
00411693: CMP dword ptr [0x00479ee8],0x7f
0041169a: JBE 0x0041173c
004116a0: MOV ECX,dword ptr [0x00479ed8]
004116a6: MOV EAX,[0x004cd7c0]
004116ab: MOV ESI,0x4cd7c0
004116b0: MOV dword ptr [ECX],EAX
004116b2: LEA EDI,[ECX + 0x4]
004116b5: MOV EAX,[0x004cd83c]
004116ba: AND EDI,0xfffffffc
004116bd: MOV dword ptr [ECX + 0x7c],EAX
004116c0: SUB ECX,EDI
004116c2: SUB ESI,ECX
004116c4: SUB ECX,-0x80
004116c7: SHR ECX,0x2
004116ca: MOVSD.REP ES:EDI,ESI
004116cc: MOV dword ptr [ESP + 0x8],0x3f80
004116d4: MOV dword ptr [ESP + 0x4],0x0
004116dc: MOV EAX,[0x00479ed8]
004116e1: SUB EAX,-0x80
004116e4: MOV dword ptr [ESP],EAX
004116e7: CALL 0x004490f0
004116ec: XOR EDX,EDX
004116ee: NOP
004116f0: MOV EAX,[0x00479ed0]
004116f5: ADD EAX,EDX
004116f7: MOV dword ptr [EAX],0x0
004116fd: MOV dword ptr [EAX + 0x4],0x0
00411704: MOV dword ptr [EAX + 0x8],0x0
0041170b: MOV dword ptr [EAX + 0xc],0x0
00411712: MOV ESI,dword ptr [0x00479ef0]
00411718: TEST ESI,ESI
0041171a: JZ 0x00411760
0041171c: ADD EDX,0x10
0041171f: AND byte ptr [EAX + 0x2],0xf0
00411723: MOV byte ptr [EAX],0xff
00411726: CMP EDX,0x200
0041172c: MOV byte ptr [EAX + 0x1],0x0
00411730: JNZ 0x004116f0
00411732: MOV dword ptr [0x004cd840],0x80
0041173c: MOV ECX,dword ptr [0x0047a104]
00411742: TEST ECX,ECX
00411744: JZ 0x00411750
00411746: MOV EDX,dword ptr [0x0047a108]
0041174c: TEST EDX,EDX
0041174e: JNZ 0x00411796
00411750: ADD ESP,0x14
00411753: POP ESI
00411754: POP EDI
00411755: RET
00411760: ADD EDX,0x10
00411763: AND byte ptr [EAX + 0x1],0xf0
00411767: MOV byte ptr [EAX + 0x5],0xff
0041176b: CMP EDX,0x200
00411771: MOV byte ptr [EAX],0x0
00411774: JNZ 0x004116f0
0041177a: JMP 0x00411732
00411780: MOV ECX,0x1ffb
00411785: MOV EDX,0x80
0041178a: MOV EAX,0x4cd7c0
0041178f: CALL 0x0040e950
00411794: JMP 0x0041173c
00411796: MOV dword ptr [ESP + 0x4],0x4519f4
0041179e: MOV dword ptr [ESP],0x1
004117a5: CALL 0x00433690
004117aa: MOV EAX,[0x00479ef0]
004117af: TEST EAX,EAX
004117b1: JNZ 0x004117d6
004117b3: MOV ECX,dword ptr [0x0047a108]
004117b9: MOV EDX,dword ptr [0x0047a104]
004117bf: MOV EAX,0x80
004117c4: MOV dword ptr [ESP],0x1ffb
004117cb: CALL 0x0040eef0
004117d0: ADD ESP,0x14
004117d3: POP ESI
004117d4: POP EDI
004117d5: RET
004117d6: MOV ECX,dword ptr [0x0047a108]
004117dc: MOV EDX,dword ptr [0x0047a104]
004117e2: MOV EAX,0x80
004117e7: MOV dword ptr [ESP],0xf1f1
004117ee: CALL 0x0040eef0
004117f3: ADD ESP,0x14
004117f6: POP ESI
004117f7: POP EDI
004117f8: RET