0042b2b0: PUSH EBX
0042b2b1: XOR EDX,EDX
0042b2b3: SUB ESP,0x18
0042b2b6: MOV EAX,[0x00479ed8]
0042b2bb: MOV byte ptr [EAX + 0x4b],0x1
0042b2bf: TEST byte ptr [0x00479f00],0x9
0042b2c6: JNZ 0x0042b350
0042b2cc: CMP dword ptr [0x00479ea8],0x2
0042b2d3: JZ 0x0042b37b
0042b2d9: MOV dword ptr [0x00479f10],0x0
0042b2e3: XOR ECX,ECX
0042b2e5: MOV byte ptr [EAX + 0x4d],DL
0042b2e8: MOV byte ptr [EAX + 0x4c],CL
0042b2eb: MOV dword ptr [ESP + 0x4],0x459e74
0042b2f3: MOV dword ptr [ESP],0x1
0042b2fa: CALL 0x00433690
0042b2ff: MOV EDX,dword ptr [0x00479f08]
0042b305: CMP EDX,dword ptr [0x00479f0c]
0042b30b: JZ 0x0042b3c0
0042b311: MOV EAX,[0x00479ed8]
0042b316: MOV byte ptr [EAX + 0x4f],DL
0042b319: MOV EDX,dword ptr [0x00479f0c]
0042b31f: TEST EDX,EDX
0042b321: JZ 0x0042b342
0042b323: MOV dword ptr [ESP + 0x4],0x459e9c
0042b32b: MOV dword ptr [ESP],0x1
0042b332: CALL 0x00433690
0042b337: MOV EAX,[0x00479ed8]
0042b33c: MOV EDX,dword ptr [0x00479f0c]
0042b342: MOV byte ptr [EAX + 0x4e],DL
0042b345: ADD ESP,0x18
0042b348: POP EBX
0042b349: RET
0042b350: MOV dword ptr [ESP + 0x4],0x459e3c
0042b358: MOV dword ptr [ESP],0x1
0042b35f: CALL 0x00433690
0042b364: CMP dword ptr [0x00479ea8],0x2
0042b36b: MOV EAX,[0x00479ed8]
0042b370: MOV EDX,0x1
0042b375: JNZ 0x0042b2d9
0042b37b: MOV ECX,dword ptr [0x00479f00]
0042b381: MOV EBX,ECX
0042b383: AND EBX,0x7
0042b386: OR EDX,EBX
0042b388: MOV EBX,EDX
0042b38a: OR EBX,0x1
0042b38d: AND ECX,0x8
0042b390: MOV ECX,dword ptr [0x00479f10]
0042b396: CMOVNZ EDX,EBX
0042b399: CMP ECX,dword ptr [0x00479f08]
0042b39f: JZ 0x0042b2d9
0042b3a5: CMP ECX,dword ptr [0x00479f0c]
0042b3ab: JNZ 0x0042b2e5
0042b3b1: JMP 0x0042b2d9
0042b3c0: MOV dword ptr [0x00479f0c],0x0
0042b3ca: JMP 0x0042b311